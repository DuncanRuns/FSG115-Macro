# FSG115-Macro
 Macro for 1.15 FSG written in python.

## Usage

Run the provided .exe file in releases or run the source .py file to start the macro. If you do not already have an options file it will create one on the first run.

A 1.15 FSG Jar file is required to run this macro. You can download one from https://github.com/DuncanRuns/FSG115/releases. The .bat file(s) are not required to run the macro. The macro will automatically find the most updated version in the same folder.

The macro is running if the console window is open. Activate the macro by pressing the hotkey specified in the options file (default: `u`). You can activate it from inside a world (with no menus open) or from the title screen.

To stop the macro, close the console window containing it.

## Options File

The options file `FSG115Macro.json` is a json file created when running the macro if it does not already exist. The macro will close itself immediately if it must create the file.

Once created, the file should have various options which you are able to customize.

- `threads` - default: `4`
    - Specifies how many threads the filter should run in order to find a seed. More = Faster = Laggier
- `java` - default: `"java"`
    - Specifies the location of java which will be used for the filter. The default "java" means that it will use the system default.
- `hotkey` - default: `"u"`
    - Specifies the hotkey used to activate the macro. Can be multiple keys, given that they are seperated by a plus symbol (`+`). [Key names can be found here](https://github.com/DuncanRuns/FSG115-Macro/blob/main/keys.txt).
- `filterWhilePlaying` - default: `false`
    - Specifies whether the macro will immediately begin searching for a new seed as soon as you enter the world to prevent waiting on the main menu.
- `useAtum` - default: `false`
    - Specifies whether to use the Atum mod to load into the seed.
- `waitTime` - default: `0.1`
    - Specifies the amount of time the macro will pause on each screen when creating the world **without atum**. This setting does not do anything if `useAtum` = `true`.
- `stopResetsLocation` - default: `13`
    - Specifies the amount of tab presses needed to get to the "Stop Resets & Quit" button provided by atum. This setting does not do anything if `useAtum` = `false`.
- `minecraftDir` - default: user's default launcher .minecraft
    - Usually ends in `.minecraft`. **Do not specify the saves folder**. 
    - The format must use either double backslash `\\` or forwards slashes `/`. **No single backslashes**.
    - Specifies the game directory in use. This value is used to determine the location of latest.log and lets the macro know when you are done exiting the world.

After changing values in the options file, a restart of the macro is required in order for the changes to take effect.

## Error FAQ

### Q: It crashed bro?

A: Please ensure you have the latest version. If you are on the latest version, you may find your error below, if not, please open an issue or message me on discord (Duncan#1627)

### Error: `No latest.log found. minecraftDir might be incorrect`

A: When setting your minecraft directory, please ensure it is correct. Note that you specify the actual minecraft directory rather than a logs or saves folder. Specific format can be found in [the options section of the readme](https://github.com/DuncanRuns/FSG115-Macro#options-file).

### Error: `No json file found, created defaults`

A: This is an error when you don't yet have an options file. This usually happens the first time the macro is ran, and will simply create an options file for you. To prevent the macro messing anything up, it will simply close the macro if it has to create defaults.

### Error: `No FSG jar found, please download one and/or place in the same directory`

A: This means that you do not have an FSG jar next to your macro. You can find one from the [releases page of my FSG115 repo](https://github.com/DuncanRuns/FSG115/releases).

### Error: `NO FSG JAR FOUND` and `No seed available, probably missing jar file`

A: This error should only occur when you delete the .jar file in the middle of running the macro. Please refer to the answer directly above if you get this error. You really shouldn't see this error.

### Error: `Failed to read .json file, format is probably wrong`

A: This error happens when you mess up the json format of the options file. To reset your options, you can delete the .json file and restart the macro to generate defaults again. When making changes, please ensure you don't change the format; when changing an option that has `""` around it, keep those around it, also don't remove any commas at the end of lines, and make sure `true` and `false` are typed exactly and don't have any quotation marks around them.

## General FAQ

### Q: How do I change _____?

All changeable options can be found in the json file generated by the macro. A [list of the options and what they do can be found above](https://github.com/DuncanRuns/FSG115-Macro#options-file).

### Q: How do I set this hotkey?

[Key names can be found here](https://github.com/DuncanRuns/FSG115-Macro/blob/main/keys.txt). If you want to use multiple keys for reset, seperate them with `+`, and if you want to use the plus key itself, you can type the full word `plus`.

### Q: When it exits the world, it clicks the wrong button!

A: This can happen because speedrun mods add various buttons to the options menu and change where the location of stuff is. To fix it, load a world with Atum, then press escape and click on options, then count how many tab presses it takes to get to "Stop Resets & Quit". The amount of tab presses it takes is the number you should set `stopResetsLocation` to; normally this number is 13 with all relevant mods.

### Q: Macro is stuck and won't search for a new seed!

A: This could happen for various reasons. One known one is usage of the mod "kypton", please remove krypton from your mods folder if this happens. If it continues to happen after removing krypton, please open an issue or contact me on discord (Duncan#1627).

### Q: Why is the exe file so big?

A: Because this is written in python, an exe to run python code must contain python itself and all modules used in the project. Some of the modules tend to be quite big, and to take only parts of the modules that are needed would be a very complex problem without copying the module and doing hundreds of hours of working figuring out what is needed manually.
